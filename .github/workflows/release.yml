on:
  push:
    branches:
      - 'main'
      - 'release'
  workflow_dispatch:
jobs:
  build-win:
    name: ğŸªŸ Build for Windows
    runs-on: windows-latest
    steps:
    - name: ğŸšš Checkout latest code
      uses: actions/checkout@v4

    - name: ğŸŸ© Use Node.js 20.x
      uses: actions/setup-node@v4
      with:
        node-version: '20.x'
        
    - name: âš¡ Setup pnpm
      uses: pnpm/action-setup@v3.0.0
    
    - name: ğŸ”¨ Build Project
      run: |
        pnpm i
        pnpm build:win

  build-linux:
    name: ğŸ§ Build for Linux
    runs-on: windows-latest
    steps:
    - name: ğŸšš Checkout latest code
      uses: actions/checkout@v4

    - name: ğŸŸ© Use Node.js 20.x
      uses: actions/setup-node@v4
      with:
        node-version: '20.x'
        
    - name: âš¡ Setup pnpm
      uses: pnpm/action-setup@v3.0.0
    
    - name: ğŸ”¨ Build Project
      run: |
        pnpm i
        pnpm build:linux

  build-mac:
    name: ğŸ Build for MacOS
    runs-on: macos-latest
    steps:
    - name: ğŸšš Checkout latest code
      uses: actions/checkout@v4

    - name: ğŸŸ© Use Node.js 20.x
      uses: actions/setup-node@v4
      with:
        node-version: '20.x'
        
    - name: âš¡ Setup pnpm
      uses: pnpm/action-setup@v3.0.0
    
    - name: ğŸ”¨ Build Project
      run: |
        pnpm i
        pnpm build:mac
